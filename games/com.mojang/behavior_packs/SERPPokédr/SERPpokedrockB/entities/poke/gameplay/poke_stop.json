{
    "format_version":"1.16.0",
    "minecraft:entity":{
        "description":{
            "identifier":"serp:poke_stop",
            "is_spawnable":true,
            "is_summonable":true,
            "is_experimental":false
        },
      "components":{
  "minecraft:type_family":{"family":["inanimated"]},
  "minecraft:physics":{},
  "minecraft:collision_box":{"height":2,"width":0.4},
  "minecraft:damage_sensor":{"triggers":[{"on_damage":{"filters":{"test":"is_variant","operator":">","value":0},"event":"serp:use"},"deals_damage":false},{"on_damage":{"filters":{"test":"is_variant","operator":"=","value":0}},"deals_damage":false}]},
  "minecraft:pushable":{"is_pushable":false,"is_pushable_by_piston":false},
  "minecraft:knockback_resistance":{"value":100},
  "minecraft:transformation":{"into":"serp:despawn","delay":600}
      },
      "component_groups":{
    "serp:bubbles":{"minecraft:spawn_entity":{"entities":[{"max_wait_time":0,"min_wait_time":0,"num_to_spawn":5,"single_use":true,"spawn_entity":"serp:loot_bubble"}]}},
    "serp:zero":{"minecraft:variant":{"value":0},"minecraft:timer":{"time":60,"randomInterval":false,"looping":false,"time_down_event":{"event":"serp:one"}}},
    "serp:one":{"minecraft:variant":{"value":1},"minecraft:timer":{"time":60,"randomInterval":false,"looping":false,"time_down_event":{"event":"serp:two"}}},
    "serp:two":{"minecraft:variant":{"value":2},"minecraft:timer":{"time":60,"randomInterval":false,"looping":false,"time_down_event":{"event":"serp:three"}}},
    "serp:three":{"minecraft:variant":{"value":3}},
    "serp:using":{"minecraft:is_chested":{}},
    "serp:despawn":{"minecraft:is_saddled":{},"minecraft:transformation":{"into":"serp:despawn","delay":1.2}}
      },
      "events":{
"minecraft:entity_spawned":{"add":{"component_groups" :["serp:one"]}},
"serp:one":{"remove":{"component_groups":["serp:zero"]},"add":{"component_groups":["serp:one"]}},
"serp:two":{"remove":{"component_groups":["serp:one"]},"add":{"component_groups":["serp:two"]}},
"serp:three":{"remove":{"component_groups":["serp:two"]},"add":{"component_groups":["serp:three"]}},
"serp:use":{"sequence":[
  {"filters":{"test":"has_component","operator":"!=","value":"minecraft:is_chested"},"add":{"component_groups":["serp:despawn"]}},
  {"filters":{"test":"is_variant","operator":">","value":0},"add":{"component_groups":["serp:bubbles"]}},
  {"filters":{"test":"is_variant","value":3},"remove":{"component_groups":["serp:three"]},"add":{"component_groups":["serp:two"]}},
  {"filters":{"test":"is_variant","value":2},"remove":{"component_groups":["serp:two"]},"add":{"component_groups":["serp:one"]}},
  {"filters":{"test":"is_variant","value":1},"remove":{"component_groups":["serp:one"]},"add":{"component_groups":["serp:zero"]}}
  ]}
    }
  }
}